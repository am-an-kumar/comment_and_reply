(this.webpackJsonpcomments=this.webpackJsonpcomments||[]).push([[0],{31:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t(2),c=t(17),i=t.n(c),d=t(7),o=t(3),l=t(15),s=t(6);var u=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Object(r.useRef)(!1);Object(r.useEffect)((function(){t.current?e():t.current=!0}),n)},m=t(13),b="comments",j=[{date:1603693344107,id:1603693344107,name:"First dummy user",text:"Dummy comment",replies:[{date:1603693363681,id:1603693363681,name:"Second dummy user",text:"Dummy reply"}]}];function p(e){var n=new Date(e),t=n.getDate(),a=n.getMonth(),r=n.getFullYear();return"".concat(t," ").concat(function(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return""}}(a)," ").concat(r)}function f(e){switch(e.target.tagName.toUpperCase()){case"PATH":return e.target.parentElement.parentElement;case"SVG":return e.target.parentElement;case"BUTTON":default:return e.target}}function O(){var e=Object(r.useState)({name:"",comment:"",disabled:!0}),n=Object(s.a)(e,2),t=n[0],c=n[1],i=Object(r.useState)(function(){var e=localStorage.getItem(b);return e?JSON.parse(e):j}()),p=Object(s.a)(i,2),O=p[0],h=p[1],x=Object(r.useState)(!0),g=Object(s.a)(x,2),y=g[0],v=g[1];function R(){v(!y)}function w(e){var n,a=e.target,r=a.name,i=a.value;i=i.trimStart();var l=Object(o.a)({},t);l[r]=i,c(Object(o.a)(Object(o.a)({},t),{},(n={},Object(d.a)(n,r,i),Object(d.a)(n,"disabled",!(l.name&&l.comment)),n)))}u((function(){!function(e){var n=JSON.stringify(e);localStorage.setItem(b,n)}(O)}),[O]);var D=y?O:O.slice().reverse();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C,{}),Object(a.jsxs)(P,{onSubmit:function(e){e.preventDefault();var n=t.name,a=t.comment,r=Date.now();h([].concat(Object(l.a)(O),[{name:n,text:a,id:r,date:r,replies:[]}])),c({name:"",comment:"",disabled:!0})},children:[Object(a.jsx)(I,{children:"Comment"}),Object(a.jsx)(k,{name:"name",placeholder:"Name",value:t.name,onChange:w}),Object(a.jsx)(T,{name:"comment",placeholder:"Comment",value:t.comment,onChange:w}),Object(a.jsx)(S,{type:"submit",disabled:t.disabled,children:"Post"})]}),Object(a.jsxs)(U,{children:[Object(a.jsx)("span",{children:"Sort By: Date and Time"}),y?Object(a.jsx)(m.a,{onClick:R}):Object(a.jsx)(m.b,{onClick:R})]}),Object(a.jsx)(G,{comments:D,handleAddReply:function(e,n,t){var a=Date.now();h(O.map((function(r){return r.id===e?Object(o.a)(Object(o.a)({},r),{},{replies:[].concat(Object(l.a)(r.replies),[{name:n,text:t,id:a,date:a}])}):r})))},handleEditReply:function(e,n,t){h(O.map((function(a){return a.id===e?Object(o.a)(Object(o.a)({},a),{},{replies:a.replies.map((function(e){return e.id===n?Object(o.a)(Object(o.a)({},e),{},{text:t}):e}))}):a})))},handleDeleteReply:function(e){var n=f(e).dataset,t=Number(n.commentid),a=Number(n.replyid);h(O.map((function(e){return e.id===t?Object(o.a)(Object(o.a)({},e),{},{replies:e.replies.filter((function(e){return e.id!==a}))}):e})))},handleEditComment:function(e,n){h(O.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{text:n}):t})))},handleDeleteComment:function(e){var n=f(e),t=Number(n.dataset.commentid);h(O.filter((function(e){return e.id!==t})))},isAscendingSorted:y})]})}function h(e){var n=e.name,t=e.text,c=e.id,i=e.date,l=e.replies,u=e.handleAddReply,m=e.handleEditReply,b=e.handleDeleteReply,j=e.handleEditComment,p=e.handleDeleteComment,f=e.isAscendingSorted,O=Object(r.useState)(!1),h=Object(s.a)(O,2),x=h[0],g=h[1],v=Object(r.useState)(!1),R=Object(s.a)(v,2),w=R[0],D=R[1],C=Object(r.useState)(t),N=Object(s.a)(C,2),E=N[0],A=N[1],q=Object(r.useState)({name:"",reply:"",disabled:!0}),B=Object(s.a)(q,2),F=B[0],M=B[1];function U(e){var n,t=e.target,a=t.name,r=t.value;r=r.trimStart();var c=Object(o.a)({},F);c[a]=r,M(Object(o.a)(Object(o.a)({},F),{},(n={},Object(d.a)(n,a,r),Object(d.a)(n,"disabled",!(c.name&&c.reply)),n)))}var G=f?l:l.slice().reverse();return Object(a.jsxs)("li",{children:[w?Object(a.jsxs)(P,{onSubmit:function(e){e.preventDefault(),j(c,E),D(!1)},children:[Object(a.jsx)(I,{children:"Comment"}),Object(a.jsx)(k,{name:"name",placeholder:"Name",value:n,readOnly:!0}),Object(a.jsx)(T,{name:"comment",placeholder:"Comment",value:E,onChange:function(e){return A(e.target.value)}}),Object(a.jsx)(S,{type:"submit",disabled:!E,children:"Post"})]}):Object(a.jsx)(z,{name:n,text:t,commentId:c,date:i,showReplyButton:!0,toggleReply:function(){g(!x)},handleEdit:function(){return D(!0)},handleDelete:p}),x&&Object(a.jsxs)(P,{onSubmit:function(e){e.preventDefault();var n=F.name,t=F.reply;u(c,n,t),M({name:"",reply:"",disabled:!0}),g(!1)},indented:!0,children:[Object(a.jsx)(I,{children:"Reply"}),Object(a.jsx)(k,{name:"name",placeholder:"Name",value:F.name,onChange:U}),Object(a.jsx)(T,{name:"reply",placeholder:"Reply",value:F.reply,onChange:U}),Object(a.jsx)(S,{type:"submit",disabled:F.disabled,children:"Post"})]}),0!==l.length&&Object(a.jsx)(J,{indented:!0,children:G.map((function(e){return Object(a.jsx)(y,Object(o.a)(Object(o.a)({commentId:c,replyId:e.id},e),{},{handleDeleteReply:b,handleEditReply:m}),e.id)}))})]})}var x=t(8),g=t.n(x);function y(e){var n=e.commentId,t=e.replyId,c=e.name,i=e.text,d=e.date,o=e.handleDeleteReply,l=e.handleEditReply,u=Object(r.useState)(i),m=Object(s.a)(u,2),b=m[0],j=m[1],p=Object(r.useState)(!1),f=Object(s.a)(p,2),O=f[0],h=f[1];return O?Object(a.jsxs)(P,{onSubmit:function(e){e.preventDefault(),l(n,t,b),h(!1)},children:[Object(a.jsx)(I,{children:"Reply"}),Object(a.jsx)(k,{name:"name",placeholder:"Name",value:c,readOnly:!0}),Object(a.jsx)(T,{name:"reply",placeholder:"Reply",value:b,onChange:function(e){return j(e.target.value)}}),Object(a.jsx)(S,{type:"submit",disabled:!b,children:"Post"})]}):Object(a.jsx)(z,{commentId:n,replyId:t,name:c,text:i,date:d,handleDelete:o,handleEdit:function(){return h(!0)}})}y.proTypes={commentId:g.a.number.isRequired,replyId:g.a.number.isRequired,name:g.a.string.isRequired,text:g.a.string.isRequired,date:g.a.number.isRequired,handleDeleteReply:g.a.func.isRequired};var v=t(4),R=t(5);function w(){var e=Object(v.a)(["\n    border: none;\n    outline: none;\n    border-radius: 5px;\n    font-family: Rubik, sans-serif;\n    padding: 0.6rem 1rem;\n    background-color: dodgerblue;\n    color: white;\n    text-transform: uppercase;\n\n    &:disabled {\n        background-color: #999;\n        color: black;\n        cursor: none;\n    }\n"]);return w=function(){return e},e}var S=R.b.button(w());function D(){var e=Object(v.a)(["\n    *, *::before,*::after {\n        box-sizing: border-box;\n    }\n\n    html, body, #root {\n        padding: 0;\n        margin: 0;\n        width: 100%;\n        height: 100%;\n    }\n\n    html {\n        font-family: Karla, sans-serif;\n    }\n\n    h1,h2,h3,h4,h5,h6 {\n        font-family: Rubik, sans-serif;\n    }\n\n    #root {\n        padding: 1rem;\n        display: flex;\n        flex-flow: column nowrap;\n\n        max-width: 600px;\n        width: 100%;\n        margin: 0 auto;\n    }\n\n    @keyframes expand {\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    }\n"]);return D=function(){return e},e}var C=Object(R.a)(D());function N(){var e=Object(v.a)(["\n    padding: 0.4rem 1rem;\n    border-radius: 2px;\n    border: none;\n    outline: none;\n\n    &:read-only {\n        background-color: #dedede;\n    }\n"]);return N=function(){return e},e}var k=R.b.input(N());function E(){var e=Object(v.a)(["\n    margin-bottom: 1rem;\n    font-family: Rubik, sans-serif;\n"]);return E=function(){return e},e}var I=R.b.legend(E());function A(){var e=Object(v.a)(["\n    list-style-type: none;\n    padding-left: ",";\n"]);return A=function(){return e},e}var J=R.b.ul(A(),(function(e){return e.indented?"3rem":"0"}));function q(){var e=Object(v.a)(["\n    display: flex;\n    flex-flow: column nowrap;\n    animation: expand 0.5s ease-in-out;\n\n    padding: 1rem;\n    margin: 1rem 0;\n    margin-left: ",";\n    background-color: #dedede;\n    border-radius: 5px;\n\n    & p {\n        margin: 0 0 1rem 0;\n    }\n\n    & input {\n        margin-bottom: 1rem;\n    }\n\n    & textarea {\n        margin-bottom: 1rem;\n    }\n\n    & button {\n        align-self: flex-end;\n    }\n"]);return q=function(){return e},e}var P=R.b.form(q(),(function(e){return e.indented?"3rem":"0"}));function B(){var e=Object(v.a)(["\n    padding: 0.4rem 1rem;\n    border-radius: 2px;\n    border: none;\n    outline: none;\n    resize: vertical;\n"]);return B=function(){return e},e}var T=R.b.textarea(B());function F(){var e=Object(v.a)(["\n    margin-bottom: 1rem;\n    padding: 1rem;\n    background-color: #dedede;\n    border-radius: 5px;\n    position: relative;\n    animation: expand 0.5s ease-in-out;\n\n    & > .meta {\n        display: flex;\n        flex-flow: row nowrap;\n        justify-content: space-between;\n        align-items: center;\n\n        & > .name {\n            font-weight: bold;\n            text-transform: capitalize;\n        }\n    }\n\n    & > .buttons {\n        button {\n            background-color: transparent;\n            color: #0471dc;\n            font-weight: bold;\n            padding: 0;\n            margin-right: 1rem;\n        }\n    }\n\n    .delete-btn {\n        margin: 0;\n        padding: 0;\n        position: absolute;\n        top: 50%;\n        right: 0;\n        transform: translate(50%, -50%);\n        width: 24px;\n        height: 24px;\n        border-radius: 50%;\n        background-color: #333;\n        color: 'white';\n    }\n"]);return F=function(){return e},e}var z=Object(R.b)((function(e){return Object(a.jsx)(K,Object(o.a)({},e))}))(F());function M(){var e=Object(v.a)(["\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    margin: 0;\n\n    & > svg {\n        margin-left: 0.5rem;\n    }\n"]);return M=function(){return e},e}var U=R.b.p(M());function G(e){var n=e.comments,t=e.handleAddReply,r=e.handleEditReply,c=e.handleDeleteReply,i=e.handleEditComment,d=e.handleDeleteComment,l=e.isAscendingSorted;return 0!==n.length&&Object(a.jsx)(J,{children:n.map((function(e){return Object(a.jsx)(h,Object(o.a)(Object(o.a)({},e),{},{handleAddReply:t,handleEditReply:r,handleDeleteReply:c,handleEditComment:i,handleDeleteComment:d,isAscendingSorted:l}),e.id)}))})}var H=t(21);function K(e){var n=e.showReplyButton,t=e.toggleReply,r=e.handleDelete,c=e.handleEdit,i=e.name,d=e.text,o=e.date,l=e.commentId,s=e.replyId,u=e.className;return Object(a.jsxs)("div",{className:u,children:[Object(a.jsxs)("div",{className:"meta",children:[Object(a.jsx)("span",{className:"name",children:i}),Object(a.jsx)("span",{className:"date",children:p(o)})]}),Object(a.jsx)("p",{className:"text",children:d}),Object(a.jsxs)("div",{className:"buttons",children:[n&&Object(a.jsx)(S,{"data-commentid":l,"data-replyid":s,onClick:t,children:"Reply"}),Object(a.jsx)(S,{"data-commentid":l,"data-replyid":s,onClick:c,children:"Edit"})]}),Object(a.jsx)(S,{className:"delete-btn","data-commentid":l,"data-replyid":s,onClickCapture:r,children:Object(a.jsx)(H.a,{})})]})}K.defaultProps={commentId:-1,replyId:-1},i.a.render(Object(a.jsx)(O,{}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.5eccc1b1.chunk.js.map