(this.webpackJsonpcomments=this.webpackJsonpcomments||[]).push([[0],{29:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t(1),c=t(16),i=t.n(c),d=t(6),o=t(2),l=t(14),s=t(5);var u=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Object(r.useRef)(!1);Object(r.useEffect)((function(){t.current?e():t.current=!0}),n)},m=t(13),b="comments";function j(e){var n=new Date(e),t=n.getDate(),a=n.getMonth(),r=n.getFullYear();return"".concat(t," ").concat(function(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return""}}(a)," ").concat(r)}function p(){var e=Object(r.useState)({name:"",comment:"",disabled:!0}),n=Object(s.a)(e,2),t=n[0],c=n[1],i=Object(r.useState)(function(){var e=localStorage.getItem(b);return e?JSON.parse(e):[]}()),j=Object(s.a)(i,2),p=j[0],f=j[1],O=Object(r.useState)(!0),h=Object(s.a)(O,2),x=h[0],g=h[1];function y(){g(!x)}function v(e){var n,a=e.target,r=a.name,i=a.value;i=i.trimStart();var l=Object(o.a)({},t);l[r]=i,c(Object(o.a)(Object(o.a)({},t),{},(n={},Object(d.a)(n,r,i),Object(d.a)(n,"disabled",!(l.name&&l.comment)),n)))}u((function(){!function(e){var n=JSON.stringify(e);localStorage.setItem(b,n)}(p)}),[p]);var w=x?p:p.slice().reverse();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(S,{}),Object(a.jsxs)(J,{onSubmit:function(e){e.preventDefault();var n=t.name,a=t.comment,r=Date.now();f([].concat(Object(l.a)(p),[{name:n,text:a,id:r,date:r,replies:[]}])),c({name:"",comment:"",disabled:!0})},children:[Object(a.jsx)(N,{children:"Comment"}),Object(a.jsx)(C,{name:"name",placeholder:"Name",value:t.name,onChange:v}),Object(a.jsx)(P,{name:"comment",placeholder:"Comment",value:t.comment,onChange:v}),Object(a.jsx)(R,{type:"submit",disabled:t.disabled,children:"Post"})]}),Object(a.jsxs)(M,{children:[Object(a.jsx)("span",{children:"Sort By: Date and Time"}),x?Object(a.jsx)(m.a,{onClick:y}):Object(a.jsx)(m.b,{onClick:y})]}),Object(a.jsx)(T,{comments:w,handleAddReply:function(e,n,t){var a=Date.now();f(p.map((function(r){return r.id===e?Object(o.a)(Object(o.a)({},r),{},{replies:[].concat(Object(l.a)(r.replies),[{name:n,text:t,id:a,date:a}])}):r})))},handleEditReply:function(e,n,t){f(p.map((function(a){return a.id===e?Object(o.a)(Object(o.a)({},a),{},{replies:a.replies.map((function(e){return e.id===n?Object(o.a)(Object(o.a)({},e),{},{text:t}):e}))}):a})))},handleDeleteReply:function(e){var n=e.target.dataset,t=Number(n.commentid),a=Number(n.replyid);f(p.map((function(e){return e.id===t?Object(o.a)(Object(o.a)({},e),{},{replies:e.replies.filter((function(e){return e.id!==a}))}):e})))},handleEditComment:function(e,n){f(p.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{text:n}):t})))},handleDeleteComment:function(e){var n=Number(e.target.dataset.commentid);f(p.filter((function(e){return e.id!==n})))},isAscendingSorted:x})]})}function f(e){var n=e.name,t=e.text,c=e.id,i=e.date,l=e.replies,u=e.handleAddReply,m=e.handleEditReply,b=e.handleDeleteReply,j=e.handleEditComment,p=e.handleDeleteComment,f=e.isAscendingSorted,O=Object(r.useState)(!1),h=Object(s.a)(O,2),g=h[0],y=h[1],v=Object(r.useState)(!1),w=Object(s.a)(v,2),S=w[0],D=w[1],k=Object(r.useState)(t),E=Object(s.a)(k,2),A=E[0],q=E[1],B=Object(r.useState)({name:"",reply:"",disabled:!0}),F=Object(s.a)(B,2),M=F[0],T=F[1];function K(e){var n,t=e.target,a=t.name,r=t.value;r=r.trimStart();var c=Object(o.a)({},M);c[a]=r,T(Object(o.a)(Object(o.a)({},M),{},(n={},Object(d.a)(n,a,r),Object(d.a)(n,"disabled",!(c.name&&c.reply)),n)))}var Y=f?l:l.slice().reverse();return Object(a.jsxs)("li",{children:[S?Object(a.jsxs)(J,{onSubmit:function(e){e.preventDefault(),j(c,A),D(!1)},children:[Object(a.jsx)(N,{children:"Comment"}),Object(a.jsx)(C,{name:"name",placeholder:"Name",value:n,readOnly:!0}),Object(a.jsx)(P,{name:"comment",placeholder:"Comment",value:A,onChange:function(e){return q(e.target.value)}}),Object(a.jsx)(R,{type:"submit",disabled:!A,children:"Post"})]}):Object(a.jsx)(z,{name:n,text:t,commentId:c,date:i,showReplyButton:!0,toggleReply:function(){y(!g)},handleEdit:function(){return D(!0)},handleDelete:p}),g&&Object(a.jsxs)(J,{onSubmit:function(e){e.preventDefault();var n=M.name,t=M.reply;u(c,n,t),T({name:"",reply:"",disabled:!0}),y(!1)},indented:!0,children:[Object(a.jsx)(N,{children:"Reply"}),Object(a.jsx)(C,{name:"name",placeholder:"Name",value:M.name,onChange:K}),Object(a.jsx)(P,{name:"reply",placeholder:"Reply",value:M.reply,onChange:K}),Object(a.jsx)(R,{type:"submit",disabled:M.disabled,children:"Post"})]}),0!==l.length&&Object(a.jsx)(I,{indented:!0,children:Y.map((function(e){return Object(a.jsx)(x,Object(o.a)(Object(o.a)({commentId:c,replyId:e.id},e),{},{handleDeleteReply:b,handleEditReply:m}),e.id)}))})]})}var O=t(7),h=t.n(O);function x(e){var n=e.commentId,t=e.replyId,c=e.name,i=e.text,d=e.date,o=e.handleDeleteReply,l=e.handleEditReply,u=Object(r.useState)(i),m=Object(s.a)(u,2),b=m[0],j=m[1],p=Object(r.useState)(!1),f=Object(s.a)(p,2),O=f[0],h=f[1];return O?Object(a.jsxs)(J,{onSubmit:function(e){e.preventDefault(),l(n,t,b),h(!1)},children:[Object(a.jsx)(N,{children:"Reply"}),Object(a.jsx)(C,{name:"name",placeholder:"Name",value:c,readOnly:!0}),Object(a.jsx)(P,{name:"reply",placeholder:"Reply",value:b,onChange:function(e){return j(e.target.value)}}),Object(a.jsx)(R,{type:"submit",disabled:!b,children:"Post"})]}):Object(a.jsx)(z,{commentId:n,replyId:t,name:c,text:i,date:d,handleDelete:o,handleEdit:function(){return h(!0)}})}x.proTypes={commentId:h.a.number.isRequired,replyId:h.a.number.isRequired,name:h.a.string.isRequired,text:h.a.string.isRequired,date:h.a.number.isRequired,handleDeleteReply:h.a.func.isRequired};var g=t(3),y=t(4);function v(){var e=Object(g.a)(["\n    border: none;\n    outline: none;\n    border-radius: 5px;\n    font-family: Rubik, sans-serif;\n    padding: 0.6rem 1rem;\n    background-color: dodgerblue;\n    color: white;\n    text-transform: uppercase;\n\n    &:disabled {\n        background-color: #999;\n        color: black;\n        cursor: none;\n    }\n"]);return v=function(){return e},e}var R=y.b.button(v());function w(){var e=Object(g.a)(["\n    *, *::before,*::after {\n        box-sizing: border-box;\n    }\n\n    html, body, #root {\n        padding: 0;\n        margin: 0;\n        width: 100%;\n        height: 100%;\n    }\n\n    html {\n        font-family: Karla, sans-serif;\n    }\n\n    h1,h2,h3,h4,h5,h6 {\n        font-family: Rubik, sans-serif;\n    }\n\n    #root {\n        padding: 1rem;\n        display: flex;\n        flex-flow: column nowrap;\n\n        max-width: 600px;\n        width: 100%;\n        margin: 0 auto;\n    }\n\n    @keyframes expand {\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    }\n"]);return w=function(){return e},e}var S=Object(y.a)(w());function D(){var e=Object(g.a)(["\n    padding: 0.4rem 1rem;\n    border-radius: 2px;\n    border: none;\n    outline: none;\n\n    &:read-only {\n        background-color: #dedede;\n    }\n"]);return D=function(){return e},e}var C=y.b.input(D());function k(){var e=Object(g.a)(["\n    margin-bottom: 1rem;\n    font-family: Rubik, sans-serif;\n"]);return k=function(){return e},e}var N=y.b.legend(k());function E(){var e=Object(g.a)(["\n    list-style-type: none;\n    padding-left: ",";\n"]);return E=function(){return e},e}var I=y.b.ul(E(),(function(e){return e.indented?"3rem":"0"}));function A(){var e=Object(g.a)(["\n    display: flex;\n    flex-flow: column nowrap;\n    animation: expand 0.5s ease-in-out;\n\n    padding: 1rem;\n    margin: 1rem 0;\n    margin-left: ",";\n    background-color: #dedede;\n    border-radius: 5px;\n\n    & p {\n        margin: 0 0 1rem 0;\n    }\n\n    & input {\n        margin-bottom: 1rem;\n    }\n\n    & textarea {\n        margin-bottom: 1rem;\n    }\n\n    & button {\n        align-self: flex-end;\n    }\n"]);return A=function(){return e},e}var J=y.b.form(A(),(function(e){return e.indented?"3rem":"0"}));function q(){var e=Object(g.a)(["\n    padding: 0.4rem 1rem;\n    border-radius: 2px;\n    border: none;\n    outline: none;\n    resize: vertical;\n"]);return q=function(){return e},e}var P=y.b.textarea(q());function B(){var e=Object(g.a)(["\n    margin-bottom: 1rem;\n    padding: 1rem;\n    background-color: #dedede;\n    border-radius: 5px;\n    position: relative;\n    animation: expand 0.5s ease-in-out;\n\n    & > .meta {\n        display: flex;\n        flex-flow: row nowrap;\n        justify-content: space-between;\n        align-items: center;\n\n        & > .name {\n            font-weight: bold;\n            text-transform: capitalize;\n        }\n    }\n\n    & > .buttons {\n        button {\n            background-color: transparent;\n            color: #0471dc;\n            font-weight: bold;\n            padding: 0;\n            margin-right: 1rem;\n        }\n    }\n\n    .delete-btn {\n        position: absolute;\n        top: 50%;\n        right: 0;\n        width: 24px;\n        height: 24px;\n        border-radius: 50%;\n        background-color: #333;\n        color: 'white';\n        transform: translate(50%, -50%);\n    }\n"]);return B=function(){return e},e}var z=Object(y.b)((function(e){return Object(a.jsx)(K,Object(o.a)({},e))}))(B());function F(){var e=Object(g.a)(["\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    margin: 0;\n\n    & > svg {\n        margin-left: 0.5rem;\n    }\n"]);return F=function(){return e},e}var M=y.b.p(F());function T(e){var n=e.comments,t=e.handleAddReply,r=e.handleEditReply,c=e.handleDeleteReply,i=e.handleEditComment,d=e.handleDeleteComment,l=e.isAscendingSorted;return 0!==n.length&&Object(a.jsx)(I,{children:n.map((function(e){return Object(a.jsx)(f,Object(o.a)(Object(o.a)({},e),{},{handleAddReply:t,handleEditReply:r,handleDeleteReply:c,handleEditComment:i,handleDeleteComment:d,isAscendingSorted:l}),e.id)}))})}function K(e){var n=e.showReplyButton,t=e.toggleReply,r=e.handleDelete,c=e.handleEdit,i=e.name,d=e.text,o=e.date,l=e.commentId,s=e.replyId,u=e.className;return Object(a.jsxs)("div",{className:u,children:[Object(a.jsxs)("div",{className:"meta",children:[Object(a.jsx)("span",{className:"name",children:i}),Object(a.jsx)("span",{className:"date",children:j(o)})]}),Object(a.jsx)("p",{className:"text",children:d}),Object(a.jsxs)("div",{className:"buttons",children:[n&&Object(a.jsx)(R,{"data-commentid":l,"data-replyid":s,onClick:t,children:"Reply"}),Object(a.jsx)(R,{"data-commentid":l,"data-replyid":s,onClick:c,children:"Edit"})]}),Object(a.jsx)(R,{"data-commentid":l,"data-replyid":s,onClick:r,className:"delete-btn"})]})}K.defaultProps={commentId:-1,replyId:-1},i.a.render(Object(a.jsx)(p,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.615c8994.chunk.js.map