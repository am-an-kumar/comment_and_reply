{"version":3,"sources":["hooks/useComponentUpdate.js","utils/lib.js","components/container/App.js","components/container/Comment.js","components/container/Reply.js","components/presentational/styled/Button.js","components/presentational/styled/GlobalStyle.js","components/presentational/styled/Input.js","components/presentational/styled/Legend.js","components/presentational/styled/List.js","components/presentational/styled/Form.js","components/presentational/styled/TextArea.js","components/presentational/styled/StyledInfo.js","components/presentational/styled/Banner.js","components/presentational/unstyled/CommentList.js","components/presentational/unstyled/Info.js","index.js"],"names":["useComponentDidUpdate","effect","dependencies","hasMounted","useRef","useEffect","current","localStorageKey","getFormattedDate","dateMs","date","Date","day","getDate","monthIndex","getMonth","year","getFullYear","getMonthName","App","useState","name","comment","disabled","formData","setFormData","commentsJSON","localStorage","getItem","JSON","parse","getCommentsFromLocalStorage","comments","setComments","isAscendingSorted","setIsAscendingSorted","handleToggleSorting","handleChange","event","target","value","trimStart","formDataCopy","stringify","setItem","saveCommentsToLocalStorage","commentsToShow","slice","reverse","GlobalStyle","Form","onSubmit","preventDefault","timeStamp","now","text","id","replies","Legend","Input","placeholder","onChange","TextArea","Button","type","Banner","onClick","CommentList","handleAddReply","commentId","replierName","replyText","currentTimestamp","map","handleEditReply","replyId","newReply","reply","handleDeleteReply","dataset","Number","filter","handleEditComment","newComment","handleDeleteComment","Comment","showReplyForm","setShowReplyForm","showEditForm","setShowEditForm","setNewComment","repliesToShow","readOnly","StyledInfo","showReplyButton","toggleReply","handleEdit","handleDelete","indented","length","List","Reply","setNewReply","proTypes","PropTypes","number","isRequired","string","func","styled","button","createGlobalStyle","input","legend","ul","form","textarea","props","Info","p","className","data-commentid","data-replyid","defaultProps","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.615c8994.chunk.js","sourcesContent":["import { useEffect, useRef } from 'react'\r\n\r\nfunction useComponentDidUpdate(effect, dependencies = []) {\r\n    const hasMounted = useRef(false)\r\n\r\n    useEffect(() => {\r\n        if (hasMounted.current) {\r\n            effect()\r\n        } else {\r\n            hasMounted.current = true\r\n        }\r\n    }, dependencies)\r\n}\r\n\r\nexport default useComponentDidUpdate\r\n","const localStorageKey = 'comments'\r\n\r\nfunction getCommentsFromLocalStorage() {\r\n    const commentsJSON = localStorage.getItem(localStorageKey)\r\n\r\n    if (commentsJSON) {\r\n        const comments = JSON.parse(commentsJSON)\r\n        return comments\r\n    } else {\r\n        return []\r\n    }\r\n}\r\n\r\nfunction saveCommentsToLocalStorage(comments) {\r\n    const commentsJSON = JSON.stringify(comments)\r\n    localStorage.setItem(localStorageKey, commentsJSON)\r\n}\r\n\r\nfunction getMonthName(monthIndex) {\r\n    switch (monthIndex) {\r\n        case 0:\r\n            return 'Jan'\r\n        case 1:\r\n            return 'Feb'\r\n        case 2:\r\n            return 'Mar'\r\n        case 3:\r\n            return 'Apr'\r\n        case 4:\r\n            return 'May'\r\n        case 5:\r\n            return 'Jun'\r\n        case 6:\r\n            return 'Jul'\r\n        case 7:\r\n            return 'Aug'\r\n        case 8:\r\n            return 'Sep'\r\n        case 9:\r\n            return 'Oct'\r\n        case 10:\r\n            return 'Nov'\r\n        case 11:\r\n            return 'Dec'\r\n        default:\r\n            return ''\r\n    }\r\n}\r\n\r\nfunction getFormattedDate(dateMs) {\r\n    const date = new Date(dateMs)\r\n\r\n    const day = date.getDate()\r\n    const monthIndex = date.getMonth()\r\n    const year = date.getFullYear()\r\n\r\n    return `${day} ${getMonthName(monthIndex)} ${year}`\r\n}\r\n\r\nexport {\r\n    getCommentsFromLocalStorage,\r\n    saveCommentsToLocalStorage,\r\n    getFormattedDate,\r\n}\r\n","import React, { useState } from 'react'\r\nimport {\r\n    GlobalStyle,\r\n    Form,\r\n    Input,\r\n    TextArea,\r\n    Button,\r\n    Legend,\r\n    Banner,\r\n    CommentList,\r\n} from 'components'\r\nimport useComponentDidUpdate from 'hooks/useComponentUpdate'\r\nimport { BsArrowUp, BsArrowDown } from 'react-icons/bs'\r\nimport {\r\n    getCommentsFromLocalStorage,\r\n    saveCommentsToLocalStorage,\r\n} from 'utils/lib'\r\n\r\nfunction App() {\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        comment: '',\r\n        disabled: true,\r\n    })\r\n\r\n    const [comments, setComments] = useState(getCommentsFromLocalStorage())\r\n\r\n    const [isAscendingSorted, setIsAscendingSorted] = useState(true)\r\n\r\n    useComponentDidUpdate(() => {\r\n        saveCommentsToLocalStorage(comments)\r\n    }, [comments])\r\n\r\n    function handleToggleSorting() {\r\n        setIsAscendingSorted(!isAscendingSorted)\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault()\r\n\r\n        const { name, comment } = formData\r\n        const timeStamp = Date.now()\r\n\r\n        setComments([\r\n            ...comments,\r\n            {\r\n                name,\r\n                text: comment,\r\n                id: timeStamp,\r\n                date: timeStamp,\r\n                replies: [],\r\n            },\r\n        ])\r\n\r\n        setFormData({\r\n            name: '',\r\n            comment: '',\r\n            disabled: true,\r\n        })\r\n    }\r\n\r\n    function handleChange(event) {\r\n        let { name, value } = event.target\r\n        value = value.trimStart()\r\n\r\n        // this is a deep copy as formData has primitive properties only\r\n        const formDataCopy = { ...formData }\r\n        formDataCopy[name] = value\r\n\r\n        setFormData({\r\n            ...formData,\r\n            [name]: value,\r\n            disabled: !(formDataCopy.name && formDataCopy.comment),\r\n        })\r\n    }\r\n\r\n    // edit/delete comments handlers\r\n    function handleEditComment(commentId, newComment) {\r\n        setComments(\r\n            comments.map(function mapComment(comment) {\r\n                return comment.id === commentId\r\n                    ? { ...comment, text: newComment }\r\n                    : comment\r\n            }),\r\n        )\r\n    }\r\n\r\n    function handleDeleteComment(event) {\r\n        // DOM attributes are strings\r\n        const commentId = Number(event.target.dataset['commentid'])\r\n\r\n        setComments(\r\n            comments.filter(function filterComment(comment) {\r\n                return comment.id !== commentId\r\n            }),\r\n        )\r\n    }\r\n\r\n    // add/edit/delete replies handlers\r\n    function handleAddReply(commentId, replierName, replyText) {\r\n        const currentTimestamp = Date.now()\r\n\r\n        setComments(\r\n            comments.map(function mapComments(comment) {\r\n                return comment.id === commentId\r\n                    ? {\r\n                          ...comment,\r\n                          replies: [\r\n                              ...comment.replies,\r\n                              {\r\n                                  name: replierName,\r\n                                  text: replyText,\r\n                                  id: currentTimestamp,\r\n                                  date: currentTimestamp,\r\n                              },\r\n                          ],\r\n                      }\r\n                    : comment\r\n            }),\r\n        )\r\n    }\r\n\r\n    function handleEditReply(commentId, replyId, newReply) {\r\n        setComments(\r\n            comments.map(function mapComment(comment) {\r\n                return comment.id === commentId\r\n                    ? {\r\n                          ...comment,\r\n                          replies: comment.replies.map(function mapReply(\r\n                              reply,\r\n                          ) {\r\n                              return reply.id === replyId\r\n                                  ? { ...reply, text: newReply }\r\n                                  : reply\r\n                          }),\r\n                      }\r\n                    : comment\r\n            }),\r\n        )\r\n    }\r\n\r\n    function handleDeleteReply(event) {\r\n        const dataset = event.target.dataset\r\n        const commentId = Number(dataset['commentid'])\r\n        const replyId = Number(dataset['replyid'])\r\n\r\n        setComments(\r\n            comments.map(function mapComment(comment) {\r\n                return comment.id === commentId\r\n                    ? {\r\n                          ...comment,\r\n                          replies: comment.replies.filter(function filterReply(\r\n                              reply,\r\n                          ) {\r\n                              return reply.id !== replyId\r\n                          }),\r\n                      }\r\n                    : comment\r\n            }),\r\n        )\r\n    }\r\n\r\n    const commentsToShow = isAscendingSorted\r\n        ? comments\r\n        : comments.slice().reverse()\r\n\r\n    return (\r\n        <>\r\n            <GlobalStyle />\r\n\r\n            <Form onSubmit={handleSubmit}>\r\n                <Legend>Comment</Legend>\r\n                <Input\r\n                    name=\"name\"\r\n                    placeholder=\"Name\"\r\n                    value={formData.name}\r\n                    onChange={handleChange}\r\n                />\r\n                <TextArea\r\n                    name=\"comment\"\r\n                    placeholder=\"Comment\"\r\n                    value={formData.comment}\r\n                    onChange={handleChange}\r\n                />\r\n                <Button type=\"submit\" disabled={formData.disabled}>\r\n                    Post\r\n                </Button>\r\n            </Form>\r\n\r\n            <Banner>\r\n                <span>Sort By: Date and Time</span>\r\n                {isAscendingSorted ? (\r\n                    <BsArrowDown onClick={handleToggleSorting} />\r\n                ) : (\r\n                    <BsArrowUp onClick={handleToggleSorting} />\r\n                )}\r\n            </Banner>\r\n\r\n            <CommentList\r\n                comments={commentsToShow}\r\n                handleAddReply={handleAddReply}\r\n                handleEditReply={handleEditReply}\r\n                handleDeleteReply={handleDeleteReply}\r\n                handleEditComment={handleEditComment}\r\n                handleDeleteComment={handleDeleteComment}\r\n                isAscendingSorted={isAscendingSorted}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport { App }\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n    Form,\r\n    Input,\r\n    TextArea,\r\n    Button,\r\n    Legend,\r\n    List,\r\n    StyledInfo,\r\n    Reply,\r\n} from 'components'\r\n\r\nfunction Comment({\r\n    name,\r\n    text,\r\n    id,\r\n    date,\r\n    replies,\r\n    handleAddReply,\r\n    handleEditReply,\r\n    handleDeleteReply,\r\n    handleEditComment,\r\n    handleDeleteComment,\r\n    isAscendingSorted,\r\n}) {\r\n    const [showReplyForm, setShowReplyForm] = useState(false)\r\n    const [showEditForm, setShowEditForm] = useState(false)\r\n    const [newComment, setNewComment] = useState(text)\r\n\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        reply: '',\r\n        disabled: true,\r\n    })\r\n\r\n    function handleAddReplySubmit(event) {\r\n        event.preventDefault()\r\n        const { name, reply } = formData\r\n\r\n        handleAddReply(id, name, reply)\r\n        setFormData({\r\n            name: '',\r\n            reply: '',\r\n            disabled: true,\r\n        })\r\n        setShowReplyForm(false)\r\n    }\r\n\r\n    function handleEditFormSubmit(event) {\r\n        event.preventDefault()\r\n        handleEditComment(id, newComment)\r\n        setShowEditForm(false)\r\n    }\r\n\r\n    function handleChange(event) {\r\n        let { name, value } = event.target\r\n        value = value.trimStart()\r\n\r\n        // this is a deep copy as formData has primitive properties only\r\n        const formDataCopy = { ...formData }\r\n        formDataCopy[name] = value\r\n\r\n        setFormData({\r\n            ...formData,\r\n            [name]: value,\r\n            disabled: !(formDataCopy.name && formDataCopy.reply),\r\n        })\r\n    }\r\n\r\n    function toggleReply() {\r\n        setShowReplyForm(!showReplyForm)\r\n    }\r\n\r\n    const repliesToShow = isAscendingSorted\r\n        ? replies\r\n        : replies.slice().reverse()\r\n\r\n    return (\r\n        <li>\r\n            {showEditForm ? (\r\n                <Form onSubmit={handleEditFormSubmit}>\r\n                    <Legend>Comment</Legend>\r\n                    <Input\r\n                        name=\"name\"\r\n                        placeholder=\"Name\"\r\n                        value={name}\r\n                        readOnly={true}\r\n                    />\r\n                    <TextArea\r\n                        name=\"comment\"\r\n                        placeholder=\"Comment\"\r\n                        value={newComment}\r\n                        onChange={(event) => setNewComment(event.target.value)}\r\n                    />\r\n                    <Button type=\"submit\" disabled={!newComment}>\r\n                        Post\r\n                    </Button>\r\n                </Form>\r\n            ) : (\r\n                <StyledInfo\r\n                    name={name}\r\n                    text={text}\r\n                    commentId={id}\r\n                    date={date}\r\n                    showReplyButton={true}\r\n                    toggleReply={toggleReply}\r\n                    handleEdit={() => setShowEditForm(true)}\r\n                    handleDelete={handleDeleteComment}\r\n                />\r\n            )}\r\n\r\n            {showReplyForm && (\r\n                <Form onSubmit={handleAddReplySubmit} indented={true}>\r\n                    <Legend>Reply</Legend>\r\n                    <Input\r\n                        name=\"name\"\r\n                        placeholder=\"Name\"\r\n                        value={formData.name}\r\n                        onChange={handleChange}\r\n                    />\r\n                    <TextArea\r\n                        name=\"reply\"\r\n                        placeholder=\"Reply\"\r\n                        value={formData.reply}\r\n                        onChange={handleChange}\r\n                    />\r\n                    <Button type=\"submit\" disabled={formData.disabled}>\r\n                        Post\r\n                    </Button>\r\n                </Form>\r\n            )}\r\n\r\n            {replies.length !== 0 && (\r\n                <List indented={true}>\r\n                    {repliesToShow.map(function mapReply(reply) {\r\n                        return (\r\n                            <Reply\r\n                                key={reply.id}\r\n                                commentId={id}\r\n                                replyId={reply.id}\r\n                                {...reply}\r\n                                handleDeleteReply={handleDeleteReply}\r\n                                handleEditReply={handleEditReply}\r\n                            />\r\n                        )\r\n                    })}\r\n                </List>\r\n            )}\r\n        </li>\r\n    )\r\n}\r\n\r\nComment.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    text: PropTypes.string.isRequired,\r\n    id: PropTypes.number.isRequired,\r\n    date: PropTypes.number.isRequired,\r\n    replies: PropTypes.array.isRequired,\r\n    handleAddReply: PropTypes.func.isRequired,\r\n    handleEditReply: PropTypes.func.isRequired,\r\n    handleDeleteReply: PropTypes.func.isRequired,\r\n    handleEditComment: PropTypes.func.isRequired,\r\n    handleDeleteComment: PropTypes.func.isRequired,\r\n}\r\n\r\nexport { Comment }\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Form, Legend, Input, TextArea, Button, StyledInfo } from 'components'\r\n\r\nfunction Reply({\r\n    commentId,\r\n    replyId,\r\n    name,\r\n    text,\r\n    date,\r\n    handleDeleteReply,\r\n    handleEditReply,\r\n}) {\r\n    const [newReply, setNewReply] = useState(text)\r\n    const [showEditForm, setShowEditForm] = useState(false)\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault()\r\n        handleEditReply(commentId, replyId, newReply)\r\n        setShowEditForm(false)\r\n    }\r\n\r\n    return showEditForm ? (\r\n        <Form onSubmit={handleSubmit}>\r\n            <Legend>Reply</Legend>\r\n            <Input\r\n                name=\"name\"\r\n                placeholder=\"Name\"\r\n                value={name}\r\n                readOnly={true}\r\n            />\r\n            <TextArea\r\n                name=\"reply\"\r\n                placeholder=\"Reply\"\r\n                value={newReply}\r\n                onChange={(event) => setNewReply(event.target.value)}\r\n            />\r\n            <Button type=\"submit\" disabled={!newReply}>\r\n                Post\r\n            </Button>\r\n        </Form>\r\n    ) : (\r\n        <StyledInfo\r\n            commentId={commentId}\r\n            replyId={replyId}\r\n            name={name}\r\n            text={text}\r\n            date={date}\r\n            handleDelete={handleDeleteReply}\r\n            handleEdit={() => setShowEditForm(true)}\r\n        />\r\n    )\r\n}\r\n\r\nReply.proTypes = {\r\n    commentId: PropTypes.number.isRequired,\r\n    replyId: PropTypes.number.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    text: PropTypes.string.isRequired,\r\n    date: PropTypes.number.isRequired,\r\n    handleDeleteReply: PropTypes.func.isRequired,\r\n}\r\n\r\nexport { Reply }\r\n","import styled from 'styled-components'\r\n\r\nconst Button = styled.button`\r\n    border: none;\r\n    outline: none;\r\n    border-radius: 5px;\r\n    font-family: Rubik, sans-serif;\r\n    padding: 0.6rem 1rem;\r\n    background-color: dodgerblue;\r\n    color: white;\r\n    text-transform: uppercase;\r\n\r\n    &:disabled {\r\n        background-color: #999;\r\n        color: black;\r\n        cursor: none;\r\n    }\r\n`\r\n\r\nexport { Button }\r\n","import { createGlobalStyle } from 'styled-components'\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n    *, *::before,*::after {\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    html, body, #root {\r\n        padding: 0;\r\n        margin: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n\r\n    html {\r\n        font-family: Karla, sans-serif;\r\n    }\r\n\r\n    h1,h2,h3,h4,h5,h6 {\r\n        font-family: Rubik, sans-serif;\r\n    }\r\n\r\n    #root {\r\n        padding: 1rem;\r\n        display: flex;\r\n        flex-flow: column nowrap;\r\n\r\n        max-width: 600px;\r\n        width: 100%;\r\n        margin: 0 auto;\r\n    }\r\n\r\n    @keyframes expand {\r\n        from {\r\n            opacity: 0;\r\n        }\r\n        to {\r\n            opacity: 1;\r\n        }\r\n    }\r\n`\r\n\r\nexport { GlobalStyle }\r\n","import styled from 'styled-components'\r\n\r\nconst Input = styled.input`\r\n    padding: 0.4rem 1rem;\r\n    border-radius: 2px;\r\n    border: none;\r\n    outline: none;\r\n\r\n    &:read-only {\r\n        background-color: #dedede;\r\n    }\r\n`\r\n\r\nexport { Input }\r\n","import styled from 'styled-components'\r\n\r\nconst Legend = styled.legend`\r\n    margin-bottom: 1rem;\r\n    font-family: Rubik, sans-serif;\r\n`\r\n\r\nexport { Legend }\r\n","import styled from 'styled-components'\r\n\r\nconst List = styled.ul`\r\n    list-style-type: none;\r\n    padding-left: ${({ indented }) => (indented ? '3rem' : '0')};\r\n`\r\n\r\nexport { List }\r\n","import styled from 'styled-components'\r\n\r\nconst Form = styled.form`\r\n    display: flex;\r\n    flex-flow: column nowrap;\r\n    animation: expand 0.5s ease-in-out;\r\n\r\n    padding: 1rem;\r\n    margin: 1rem 0;\r\n    margin-left: ${({ indented }) => (indented ? '3rem' : '0')};\r\n    background-color: #dedede;\r\n    border-radius: 5px;\r\n\r\n    & p {\r\n        margin: 0 0 1rem 0;\r\n    }\r\n\r\n    & input {\r\n        margin-bottom: 1rem;\r\n    }\r\n\r\n    & textarea {\r\n        margin-bottom: 1rem;\r\n    }\r\n\r\n    & button {\r\n        align-self: flex-end;\r\n    }\r\n`\r\n\r\nexport { Form }\r\n","import styled from 'styled-components'\r\n\r\nconst TextArea = styled.textarea`\r\n    padding: 0.4rem 1rem;\r\n    border-radius: 2px;\r\n    border: none;\r\n    outline: none;\r\n    resize: vertical;\r\n`\r\n\r\nexport { TextArea }\r\n","import styled from 'styled-components'\r\nimport { Info } from 'components'\r\n\r\nconst StyledInfo = styled((props) => <Info {...props} />)`\r\n    margin-bottom: 1rem;\r\n    padding: 1rem;\r\n    background-color: #dedede;\r\n    border-radius: 5px;\r\n    position: relative;\r\n    animation: expand 0.5s ease-in-out;\r\n\r\n    & > .meta {\r\n        display: flex;\r\n        flex-flow: row nowrap;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n\r\n        & > .name {\r\n            font-weight: bold;\r\n            text-transform: capitalize;\r\n        }\r\n    }\r\n\r\n    & > .buttons {\r\n        button {\r\n            background-color: transparent;\r\n            color: #0471dc;\r\n            font-weight: bold;\r\n            padding: 0;\r\n            margin-right: 1rem;\r\n        }\r\n    }\r\n\r\n    .delete-btn {\r\n        position: absolute;\r\n        top: 50%;\r\n        right: 0;\r\n        width: 24px;\r\n        height: 24px;\r\n        border-radius: 50%;\r\n        background-color: #333;\r\n        color: 'white';\r\n        transform: translate(50%, -50%);\r\n    }\r\n`\r\n\r\nexport { StyledInfo }\r\n","import styled from 'styled-components'\r\n\r\nconst Banner = styled.p`\r\n    display: flex;\r\n    flex-flow: row nowrap;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n    margin: 0;\r\n\r\n    & > svg {\r\n        margin-left: 0.5rem;\r\n    }\r\n`\r\n\r\nexport { Banner }\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Comment, List } from 'components'\r\n\r\nfunction CommentList({\r\n    comments,\r\n    handleAddReply,\r\n    handleEditReply,\r\n    handleDeleteReply,\r\n    handleEditComment,\r\n    handleDeleteComment,\r\n    isAscendingSorted,\r\n}) {\r\n    return (\r\n        comments.length !== 0 && (\r\n            <List>\r\n                {comments.map(function mapComments(comment) {\r\n                    return (\r\n                        <Comment\r\n                            key={comment.id}\r\n                            {...comment}\r\n                            handleAddReply={handleAddReply}\r\n                            handleEditReply={handleEditReply}\r\n                            handleDeleteReply={handleDeleteReply}\r\n                            handleEditComment={handleEditComment}\r\n                            handleDeleteComment={handleDeleteComment}\r\n                            isAscendingSorted={isAscendingSorted}\r\n                        />\r\n                    )\r\n                })}\r\n            </List>\r\n        )\r\n    )\r\n}\r\n\r\nCommentList.propTypes = {\r\n    comments: PropTypes.array.isRequired,\r\n    handleAddReply: PropTypes.func.isRequired,\r\n    handleEditReply: PropTypes.func.isRequired,\r\n    handleDeleteReply: PropTypes.func.isRequired,\r\n    handleEditComment: PropTypes.func.isRequired,\r\n    handleDeleteComment: PropTypes.func.isRequired,\r\n    isAscendingSorted: PropTypes.bool.isRequired,\r\n}\r\n\r\nexport { CommentList }\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { MdDelete } from 'react-icons/md'\r\nimport { Button } from 'components/presentational/styled'\r\nimport { getFormattedDate } from 'utils/lib'\r\n\r\n// comments will just have the commentId while replies will have both commentId and replyId\r\nfunction Info({\r\n    showReplyButton,\r\n    toggleReply,\r\n    handleDelete,\r\n    handleEdit,\r\n    name,\r\n    text,\r\n    date,\r\n    commentId,\r\n    replyId,\r\n    className,\r\n}) {\r\n    return (\r\n        <div className={className}>\r\n            <div className=\"meta\">\r\n                <span className=\"name\">{name}</span>\r\n                <span className=\"date\">{getFormattedDate(date)}</span>\r\n                {}\r\n            </div>\r\n            <p className=\"text\">{text}</p>\r\n            <div className=\"buttons\">\r\n                {showReplyButton && (\r\n                    <Button\r\n                        data-commentid={commentId}\r\n                        data-replyid={replyId}\r\n                        onClick={toggleReply}\r\n                    >\r\n                        Reply\r\n                    </Button>\r\n                )}\r\n                <Button\r\n                    data-commentid={commentId}\r\n                    data-replyid={replyId}\r\n                    onClick={handleEdit}\r\n                >\r\n                    Edit\r\n                </Button>\r\n            </div>\r\n            <Button\r\n                data-commentid={commentId}\r\n                data-replyid={replyId}\r\n                onClick={handleDelete}\r\n                className=\"delete-btn\"\r\n            ></Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nInfo.defaultProps = {\r\n    commentId: -1,\r\n    replyId: -1,\r\n}\r\n\r\nInfo.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    text: PropTypes.string.isRequired,\r\n    commentId: PropTypes.number.isRequired,\r\n    replyId: PropTypes.number,\r\n    date: PropTypes.number.isRequired,\r\n    showReplyButton: PropTypes.bool,\r\n    toggleReply: PropTypes.func,\r\n    handleDelete: PropTypes.func.isRequired,\r\n    handleEdit: PropTypes.func.isRequired,\r\n    className: PropTypes.string,\r\n}\r\n\r\nexport { Info }\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { App } from 'components'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}