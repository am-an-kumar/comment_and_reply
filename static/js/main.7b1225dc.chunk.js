(this.webpackJsonpcomments=this.webpackJsonpcomments||[]).push([[0],{31:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t(1),c=t(17),d=t.n(c),i=t(8),o=t(3),l=t(15),s=t(6);var m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Object(r.useRef)(!1);Object(r.useEffect)((function(){t.current?e():t.current=!0}),n)},u=t(13),b="comments",j=[{date:1603693344107,id:1603693344107,name:"First dummy user",text:"Dummy comment",replies:[{date:1603693363681,id:1603693363681,name:"Second dummy user",text:"Dummy reply"}]}];function p(e){var n=new Date(e),t=n.getDate(),a=n.getMonth(),r=n.getFullYear();return"".concat(t," ").concat(function(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return""}}(a)," ").concat(r)}function O(e){switch(e.target.tagName.toUpperCase()){case"PATH":return e.target.parentElement.parentElement;case"SVG":return e.target.parentElement;case"BUTTON":default:return e.target}}function f(){var e=Object(r.useState)({name:"",comment:"",disabled:!0}),n=Object(s.a)(e,2),t=n[0],c=n[1],d=Object(r.useState)(function(){var e=localStorage.getItem(b);return e?JSON.parse(e):j}()),p=Object(s.a)(d,2),f=p[0],h=p[1],x=Object(r.useState)(-1),g=Object(s.a)(x,2),y=g[0],v=g[1],R=Object(r.useState)(!0),I=Object(s.a)(R,2),S=I[0],C=I[1];function N(){C(!S)}function F(e){var n,a=e.target,r=a.name,d=a.value;d=d.trimStart();var l=Object(o.a)({},t);l[r]=d,c(Object(o.a)(Object(o.a)({},t),{},(n={},Object(i.a)(n,r,d),Object(i.a)(n,"disabled",!(l.name&&l.comment)),n)))}m((function(){!function(e){var n=JSON.stringify(e);localStorage.setItem(b,n)}(f)}),[f]);var A=S?f:f.slice().reverse();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(D,{}),Object(a.jsxs)(J,{onSubmit:function(e){e.preventDefault();var n=t.name,a=t.comment,r=Date.now();h([].concat(Object(l.a)(f),[{name:n,text:a,id:r,date:r,replies:[]}])),c({name:"",comment:"",disabled:!0})},children:[Object(a.jsx)(k,{children:"Add Comment"}),Object(a.jsx)(E,{name:"name",placeholder:"Name",value:t.name,onChange:F}),Object(a.jsx)(B,{name:"comment",placeholder:"Comment",value:t.comment,onChange:F}),Object(a.jsx)(w,{type:"submit",disabled:t.disabled,children:"Post"})]}),Object(a.jsxs)(U,{children:[Object(a.jsx)("span",{children:"Sort By: Date and Time"}),S?Object(a.jsx)(u.a,{onClick:N}):Object(a.jsx)(u.b,{onClick:N})]}),Object(a.jsx)(G,{comments:A,handleAddReply:function(e,n,t){var a=Date.now();h(f.map((function(r){return r.id===e?Object(o.a)(Object(o.a)({},r),{},{replies:[].concat(Object(l.a)(r.replies),[{name:n,text:t,id:a,date:a}])}):r})))},handleEditReply:function(e,n,t){h(f.map((function(a){return a.id===e?Object(o.a)(Object(o.a)({},a),{},{replies:a.replies.map((function(e){return e.id===n?Object(o.a)(Object(o.a)({},e),{},{text:t}):e}))}):a})))},handleDeleteReply:function(e){var n=O(e).dataset,t=Number(n.commentid),a=Number(n.replyid);h(f.map((function(e){return e.id===t?Object(o.a)(Object(o.a)({},e),{},{replies:e.replies.filter((function(e){return e.id!==a}))}):e})))},handleEditComment:function(e,n){h(f.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{text:n}):t})))},handleDeleteComment:function(e){var n=O(e),t=Number(n.dataset.commentid);h(f.filter((function(e){return e.id!==t})))},isAscendingSorted:S,openFormId:y,setOpenFormId:v})]})}function h(e){var n=e.name,t=e.text,c=e.id,d=e.date,l=e.replies,m=e.handleAddReply,u=e.handleEditReply,b=e.handleDeleteReply,j=e.handleEditComment,p=e.handleDeleteComment,O=e.isAscendingSorted,f=e.openFormId,h=e.setOpenFormId,x=Object(r.useState)(!1),g=Object(s.a)(x,2),v=g[0],R=g[1],I=Object(r.useState)(!1),S=Object(s.a)(I,2),D=S[0],C=S[1],N=Object(r.useState)(t),F=Object(s.a)(N,2),q=F[0],P=F[1],T=Object(r.useState)({name:"",reply:"",disabled:!0}),M=Object(s.a)(T,2),U=M[0],G=M[1];function H(e){var n,t=e.target,a=t.name,r=t.value;r=r.trimStart();var c=Object(o.a)({},U);c[a]=r,G(Object(o.a)(Object(o.a)({},U),{},(n={},Object(i.a)(n,a,r),Object(i.a)(n,"disabled",!(c.name&&c.reply)),n)))}var K=O?l:l.slice().reverse();return Object(a.jsxs)("li",{children:[D&&c===f?Object(a.jsxs)(J,{onSubmit:function(e){e.preventDefault(),j(c,q),C(!1)},children:[Object(a.jsx)(k,{children:"Edit Comment"}),Object(a.jsx)(E,{name:"name",placeholder:"Name",value:n,readOnly:!0}),Object(a.jsx)(B,{name:"comment",placeholder:"Comment",value:q,onChange:function(e){return P(e.target.value)}}),Object(a.jsx)(w,{type:"submit",disabled:!q,children:"Post"})]}):Object(a.jsx)(z,{name:n,text:t,commentId:c,date:d,showReplyButton:!0,toggleReply:function(){v||h(0),R(!v)},handleEdit:function(){h(c),C(!0)},handleDelete:p}),v&&0===f&&Object(a.jsxs)(J,{onSubmit:function(e){e.preventDefault();var n=U.name,t=U.reply;m(c,n,t),G({name:"",reply:"",disabled:!0}),R(!1)},indented:!0,children:[Object(a.jsx)(k,{children:"Add Reply"}),Object(a.jsx)(E,{name:"name",placeholder:"Name",value:U.name,onChange:H}),Object(a.jsx)(B,{name:"reply",placeholder:"Reply",value:U.reply,onChange:H}),Object(a.jsx)(w,{type:"submit",disabled:U.disabled,children:"Post"})]}),0!==l.length&&Object(a.jsx)(A,{indented:!0,children:K.map((function(e){return Object(a.jsx)(y,Object(o.a)(Object(o.a)({commentId:c,replyId:e.id},e),{},{handleDeleteReply:b,handleEditReply:u,openFormId:f,setOpenFormId:h}),e.id)}))})]})}var x=t(7),g=t.n(x);function y(e){var n=e.id,t=e.commentId,c=e.replyId,d=e.name,i=e.text,o=e.date,l=e.handleDeleteReply,m=e.handleEditReply,u=e.openFormId,b=e.setOpenFormId,j=Object(r.useState)(i),p=Object(s.a)(j,2),O=p[0],f=p[1],h=Object(r.useState)(!1),x=Object(s.a)(h,2),g=x[0],y=x[1];return g&&n===u?Object(a.jsxs)(J,{onSubmit:function(e){e.preventDefault(),m(t,c,O),y(!1)},children:[Object(a.jsx)(k,{children:"Edit Reply"}),Object(a.jsx)(E,{name:"name",placeholder:"Name",value:d,readOnly:!0}),Object(a.jsx)(B,{name:"reply",placeholder:"Reply",value:O,onChange:function(e){return f(e.target.value)}}),Object(a.jsx)(w,{type:"submit",disabled:!O,children:"Post"})]}):Object(a.jsx)(z,{commentId:t,replyId:c,name:d,text:i,date:o,handleDelete:l,handleEdit:function(){y(!0),b(n)}})}y.proTypes={id:g.a.number.isRequired,commentId:g.a.number.isRequired,replyId:g.a.number.isRequired,name:g.a.string.isRequired,text:g.a.string.isRequired,date:g.a.number.isRequired,handleDeleteReply:g.a.func.isRequired,openFormId:g.a.number.isRequired,setOpenFormId:g.a.func.isRequired};var v=t(4),R=t(5);function I(){var e=Object(v.a)(["\n    border: none;\n    outline: none;\n    border-radius: 5px;\n    font-family: Rubik, sans-serif;\n    padding: 0.6rem 1rem;\n    background-color: dodgerblue;\n    color: white;\n    text-transform: uppercase;\n\n    &:disabled {\n        background-color: #999;\n        color: black;\n        cursor: none;\n    }\n"]);return I=function(){return e},e}var w=R.b.button(I());function S(){var e=Object(v.a)(["\n    *, *::before,*::after {\n        box-sizing: border-box;\n    }\n\n    html, body, #root {\n        padding: 0;\n        margin: 0;\n        width: 100%;\n        height: 100%;\n    }\n\n    html {\n        font-family: Karla, sans-serif;\n    }\n\n    h1,h2,h3,h4,h5,h6 {\n        font-family: Rubik, sans-serif;\n    }\n\n    #root {\n        padding: 1rem;\n        display: flex;\n        flex-flow: column nowrap;\n\n        max-width: 600px;\n        width: 100%;\n        margin: 0 auto;\n    }\n\n    @keyframes expand {\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    }\n"]);return S=function(){return e},e}var D=Object(R.a)(S());function C(){var e=Object(v.a)(["\n    padding: 0.4rem 1rem;\n    margin-bottom: 1rem;\n    border-radius: 2px;\n    border: none;\n    outline: none;\n\n    &:read-only {\n        background-color: #d2d2d2;\n    }\n"]);return C=function(){return e},e}var E=R.b.input(C());function N(){var e=Object(v.a)(["\n    margin-bottom: 1rem;\n    font-family: Rubik, sans-serif;\n    text-transform: capitalize;\n"]);return N=function(){return e},e}var k=R.b.legend(N());function F(){var e=Object(v.a)(["\n    list-style-type: none;\n    padding-left: ",";\n"]);return F=function(){return e},e}var A=R.b.ul(F(),(function(e){return e.indented?"3rem":"0"}));function q(){var e=Object(v.a)(["\n    display: flex;\n    flex-flow: column nowrap;\n    animation: expand 0.5s ease-in-out;\n\n    padding: 1rem;\n    margin: 1rem 0;\n    margin-left: ",";\n    background-color: #dedede;\n    border-radius: 5px;\n\n    & button {\n        align-self: flex-end;\n    }\n"]);return q=function(){return e},e}var J=R.b.form(q(),(function(e){return e.indented?"3rem":"0"}));function P(){var e=Object(v.a)(["\n    padding: 0.4rem 1rem;\n    margin-bottom: 1rem;\n    border-radius: 2px;\n    border: none;\n    outline: none;\n    resize: vertical;\n"]);return P=function(){return e},e}var B=R.b.textarea(P());function T(){var e=Object(v.a)(["\n    margin-bottom: 1rem;\n    padding: 1rem;\n    background-color: #dedede;\n    border-radius: 5px;\n    position: relative;\n    animation: expand 0.5s ease-in-out;\n\n    & > .meta {\n        display: flex;\n        flex-flow: row nowrap;\n        justify-content: space-between;\n        align-items: center;\n\n        & > .name {\n            font-weight: bold;\n            text-transform: capitalize;\n        }\n    }\n\n    & > .buttons {\n        button {\n            background-color: transparent;\n            color: #0471dc;\n            font-weight: bold;\n            padding: 0;\n            margin-right: 1rem;\n        }\n    }\n\n    .delete-btn {\n        margin: 0;\n        padding: 0;\n        position: absolute;\n        top: 50%;\n        right: 0;\n        transform: translate(50%, -50%);\n        width: 24px;\n        height: 24px;\n        border-radius: 50%;\n        background-color: #333;\n        color: 'white';\n    }\n"]);return T=function(){return e},e}var z=Object(R.b)((function(e){return Object(a.jsx)(K,Object(o.a)({},e))}))(T());function M(){var e=Object(v.a)(["\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    margin: 0;\n\n    & > svg {\n        margin-left: 0.5rem;\n    }\n"]);return M=function(){return e},e}var U=R.b.p(M()),G=Object(r.memo)((function(e){var n=e.comments,t=e.handleAddReply,r=e.handleEditReply,c=e.handleDeleteReply,d=e.handleEditComment,i=e.handleDeleteComment,l=e.isAscendingSorted,s=e.openFormId,m=e.setOpenFormId;return 0!==n.length&&Object(a.jsx)(A,{children:n.map((function(e){return Object(a.jsx)(h,Object(o.a)(Object(o.a)({},e),{},{handleAddReply:t,handleEditReply:r,handleDeleteReply:c,handleEditComment:d,handleDeleteComment:i,isAscendingSorted:l,openFormId:s,setOpenFormId:m}),e.id)}))})})),H=t(21),K=Object(r.memo)((function(e){var n=e.showReplyButton,t=e.toggleReply,r=e.handleDelete,c=e.handleEdit,d=e.name,i=e.text,o=e.date,l=e.commentId,s=e.replyId,m=e.className;return Object(a.jsxs)("div",{className:m,children:[Object(a.jsxs)("div",{className:"meta",children:[Object(a.jsx)("span",{className:"name",children:d}),Object(a.jsx)("span",{className:"date",children:p(o)})]}),Object(a.jsx)("p",{className:"text",children:i}),Object(a.jsxs)("div",{className:"buttons",children:[n&&Object(a.jsx)(w,{"data-commentid":l,"data-replyid":s,onClick:t,children:"Reply"}),Object(a.jsx)(w,{"data-commentid":l,"data-replyid":s,onClick:c,children:"Edit"})]}),Object(a.jsx)(w,{className:"delete-btn","data-commentid":l,"data-replyid":s,onClickCapture:r,children:Object(a.jsx)(H.a,{})})]})}));K.defaultProps={commentId:-1,replyId:-1},d.a.render(Object(a.jsx)(f,{}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.7b1225dc.chunk.js.map