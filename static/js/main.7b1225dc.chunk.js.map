{"version":3,"sources":["hooks/useComponentUpdate.js","utils/lib.js","components/container/App.js","components/container/Comment.js","components/container/Reply.js","components/presentational/styled/Button.js","components/presentational/styled/GlobalStyle.js","components/presentational/styled/Input.js","components/presentational/styled/Legend.js","components/presentational/styled/List.js","components/presentational/styled/Form.js","components/presentational/styled/TextArea.js","components/presentational/styled/StyledInfo.js","components/presentational/styled/Banner.js","components/presentational/unstyled/CommentList.js","components/presentational/unstyled/Info.js","index.js"],"names":["useComponentDidUpdate","effect","dependencies","hasMounted","useRef","useEffect","current","localStorageKey","dummyData","date","id","name","text","replies","getFormattedDate","dateMs","Date","day","getDate","monthIndex","getMonth","year","getFullYear","getMonthName","getParentButton","event","target","tagName","toUpperCase","parentElement","App","useState","comment","disabled","formData","setFormData","commentsJSON","localStorage","getItem","JSON","parse","getCommentsFromLocalStorage","comments","setComments","openFormId","setOpenFormId","isAscendingSorted","setIsAscendingSorted","handleToggleSorting","handleChange","value","trimStart","formDataCopy","stringify","setItem","saveCommentsToLocalStorage","commentsToShow","slice","reverse","GlobalStyle","Form","onSubmit","preventDefault","timeStamp","now","Legend","Input","placeholder","onChange","TextArea","Button","type","Banner","onClick","handleAddReply","commentId","replierName","replyText","currentTimestamp","map","handleEditReply","replyId","newReply","reply","handleDeleteReply","dataset","Number","filter","handleEditComment","newComment","handleDeleteComment","Comment","showReplyForm","setShowReplyForm","showEditForm","setShowEditForm","setNewComment","repliesToShow","readOnly","StyledInfo","showReplyButton","toggleReply","handleEdit","handleDelete","indented","length","List","Reply","setNewReply","proTypes","PropTypes","number","isRequired","string","func","styled","button","createGlobalStyle","input","legend","ul","form","textarea","props","p","CommentList","memo","Info","className","data-commentid","data-replyid","onClickCapture","defaultProps","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7b1225dc.chunk.js","sourcesContent":["import { useEffect, useRef } from 'react'\r\n\r\n// runs effect when the component usign this custom effect updates\r\n// mimics componentDidUpdate() lifecycle method\r\nfunction useComponentDidUpdate(effect, dependencies = []) {\r\n    const hasMounted = useRef(false)\r\n    useEffect(() => {\r\n        if (hasMounted.current) {\r\n            effect()\r\n        } else {\r\n            hasMounted.current = true\r\n        }\r\n    }, dependencies)\r\n}\r\n\r\nexport default useComponentDidUpdate\r\n","const localStorageKey = 'comments'\r\n\r\n// dummy data to show when a user is using the app for the first time\r\nconst dummyData = [\r\n    {\r\n        date: 1603693344107,\r\n        id: 1603693344107,\r\n        name: 'First dummy user',\r\n        text: 'Dummy comment',\r\n        replies: [\r\n            {\r\n                date: 1603693363681,\r\n                id: 1603693363681,\r\n                name: 'Second dummy user',\r\n                text: 'Dummy reply',\r\n            },\r\n        ],\r\n    },\r\n]\r\n\r\nfunction getCommentsFromLocalStorage() {\r\n    const commentsJSON = localStorage.getItem(localStorageKey)\r\n    if (commentsJSON) {\r\n        const comments = JSON.parse(commentsJSON)\r\n        return comments\r\n    } else {\r\n        return dummyData\r\n    }\r\n}\r\n\r\nfunction saveCommentsToLocalStorage(comments) {\r\n    const commentsJSON = JSON.stringify(comments)\r\n    localStorage.setItem(localStorageKey, commentsJSON)\r\n}\r\n\r\nfunction getMonthName(monthIndex) {\r\n    switch (monthIndex) {\r\n        case 0:\r\n            return 'Jan'\r\n        case 1:\r\n            return 'Feb'\r\n        case 2:\r\n            return 'Mar'\r\n        case 3:\r\n            return 'Apr'\r\n        case 4:\r\n            return 'May'\r\n        case 5:\r\n            return 'Jun'\r\n        case 6:\r\n            return 'Jul'\r\n        case 7:\r\n            return 'Aug'\r\n        case 8:\r\n            return 'Sep'\r\n        case 9:\r\n            return 'Oct'\r\n        case 10:\r\n            return 'Nov'\r\n        case 11:\r\n            return 'Dec'\r\n        default:\r\n            return ''\r\n    }\r\n}\r\n\r\n// dateMs - number of milliseconds passed since EPOCH's time\r\n// formats dateMs and returns a custom Date String of the form `DD Mon YYYY`\r\nfunction getFormattedDate(dateMs) {\r\n    const date = new Date(dateMs)\r\n\r\n    const day = date.getDate()\r\n    const monthIndex = date.getMonth()\r\n    const year = date.getFullYear()\r\n\r\n    return `${day} ${getMonthName(monthIndex)} ${year}`\r\n}\r\n\r\nfunction getParentButton(event) {\r\n    switch (event.target.tagName.toUpperCase()) {\r\n        case 'PATH':\r\n            return event.target.parentElement.parentElement\r\n        case 'SVG':\r\n            return event.target.parentElement\r\n        case 'BUTTON':\r\n        default:\r\n            return event.target\r\n    }\r\n}\r\n\r\nexport {\r\n    getCommentsFromLocalStorage,\r\n    saveCommentsToLocalStorage,\r\n    getFormattedDate,\r\n    getParentButton,\r\n}\r\n","import React, { useState } from 'react'\r\nimport {\r\n    GlobalStyle,\r\n    Form,\r\n    Input,\r\n    TextArea,\r\n    Button,\r\n    Legend,\r\n    Banner,\r\n    CommentList,\r\n} from 'components'\r\nimport useComponentDidUpdate from 'hooks/useComponentUpdate'\r\nimport { BsArrowUp, BsArrowDown } from 'react-icons/bs'\r\nimport {\r\n    getCommentsFromLocalStorage,\r\n    saveCommentsToLocalStorage,\r\n    getParentButton,\r\n} from 'utils/lib'\r\n\r\nfunction App() {\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        comment: '',\r\n        disabled: true,\r\n    })\r\n\r\n    const [comments, setComments] = useState(getCommentsFromLocalStorage())\r\n\r\n    // for any edit form, id is entity id, i.e. commentId or replyId\r\n    // for add reply form, id is 0\r\n    const [openFormId, setOpenFormId] = useState(-1)\r\n    const [isAscendingSorted, setIsAscendingSorted] = useState(true)\r\n\r\n    // persisting comments to localstorage when comments[] updates\r\n    useComponentDidUpdate(() => {\r\n        saveCommentsToLocalStorage(comments)\r\n    }, [comments])\r\n\r\n    function handleToggleSorting() {\r\n        setIsAscendingSorted(!isAscendingSorted)\r\n    }\r\n\r\n    // handler for adding comment\r\n    function handleSubmit(event) {\r\n        event.preventDefault()\r\n\r\n        const { name, comment } = formData\r\n        const timeStamp = Date.now()\r\n\r\n        setComments([\r\n            ...comments,\r\n            {\r\n                name,\r\n                text: comment,\r\n                id: timeStamp,\r\n                date: timeStamp,\r\n                replies: [],\r\n            },\r\n        ])\r\n\r\n        setFormData({\r\n            name: '',\r\n            comment: '',\r\n            disabled: true,\r\n        })\r\n    }\r\n\r\n    function handleChange(event) {\r\n        let { name, value } = event.target\r\n        value = value.trimStart()\r\n\r\n        // this is a deep copy as formData has primitive properties only\r\n        const formDataCopy = { ...formData }\r\n        formDataCopy[name] = value\r\n\r\n        setFormData({\r\n            ...formData,\r\n            [name]: value,\r\n            disabled: !(formDataCopy.name && formDataCopy.comment),\r\n        })\r\n    }\r\n\r\n    // edit/delete comments handlers\r\n    function handleEditComment(commentId, newComment) {\r\n        setComments(\r\n            comments.map(function mapComment(comment) {\r\n                return comment.id === commentId\r\n                    ? { ...comment, text: newComment }\r\n                    : comment\r\n            }),\r\n        )\r\n    }\r\n\r\n    function handleDeleteComment(event) {\r\n        let target = getParentButton(event)\r\n\r\n        // DOM attributes are strings\r\n        const commentId = Number(target.dataset['commentid'])\r\n\r\n        setComments(\r\n            comments.filter(function filterComment(comment) {\r\n                return comment.id !== commentId\r\n            }),\r\n        )\r\n    }\r\n\r\n    // add/edit/delete replies handlers\r\n    function handleAddReply(commentId, replierName, replyText) {\r\n        const currentTimestamp = Date.now()\r\n\r\n        setComments(\r\n            comments.map(function mapComments(comment) {\r\n                return comment.id === commentId\r\n                    ? {\r\n                          ...comment,\r\n                          replies: [\r\n                              ...comment.replies,\r\n                              {\r\n                                  name: replierName,\r\n                                  text: replyText,\r\n                                  id: currentTimestamp,\r\n                                  date: currentTimestamp,\r\n                              },\r\n                          ],\r\n                      }\r\n                    : comment\r\n            }),\r\n        )\r\n    }\r\n\r\n    function handleEditReply(commentId, replyId, newReply) {\r\n        setComments(\r\n            comments.map(function mapComment(comment) {\r\n                return comment.id === commentId\r\n                    ? {\r\n                          ...comment,\r\n                          replies: comment.replies.map(function mapReply(\r\n                              reply,\r\n                          ) {\r\n                              return reply.id === replyId\r\n                                  ? { ...reply, text: newReply }\r\n                                  : reply\r\n                          }),\r\n                      }\r\n                    : comment\r\n            }),\r\n        )\r\n    }\r\n\r\n    function handleDeleteReply(event) {\r\n        let target = getParentButton(event)\r\n\r\n        const dataset = target.dataset\r\n        const commentId = Number(dataset['commentid'])\r\n        const replyId = Number(dataset['replyid'])\r\n\r\n        setComments(\r\n            comments.map(function mapComment(comment) {\r\n                return comment.id === commentId\r\n                    ? {\r\n                          ...comment,\r\n                          replies: comment.replies.filter(function filterReply(\r\n                              reply,\r\n                          ) {\r\n                              return reply.id !== replyId\r\n                          }),\r\n                      }\r\n                    : comment\r\n            }),\r\n        )\r\n    }\r\n\r\n    // settings commentsToShow based on \"sort\" order selected\r\n    const commentsToShow = isAscendingSorted\r\n        ? comments\r\n        : comments.slice().reverse()\r\n\r\n    return (\r\n        <>\r\n            <GlobalStyle />\r\n\r\n            {/* \"ADD COMMENT\" form */}\r\n            <Form onSubmit={handleSubmit}>\r\n                <Legend>Add Comment</Legend>\r\n                <Input\r\n                    name=\"name\"\r\n                    placeholder=\"Name\"\r\n                    value={formData.name}\r\n                    onChange={handleChange}\r\n                />\r\n                <TextArea\r\n                    name=\"comment\"\r\n                    placeholder=\"Comment\"\r\n                    value={formData.comment}\r\n                    onChange={handleChange}\r\n                />\r\n                <Button type=\"submit\" disabled={formData.disabled}>\r\n                    Post\r\n                </Button>\r\n            </Form>\r\n\r\n            <Banner>\r\n                <span>Sort By: Date and Time</span>\r\n                {isAscendingSorted ? (\r\n                    <BsArrowDown onClick={handleToggleSorting} />\r\n                ) : (\r\n                    <BsArrowUp onClick={handleToggleSorting} />\r\n                )}\r\n            </Banner>\r\n\r\n            <CommentList\r\n                comments={commentsToShow}\r\n                handleAddReply={handleAddReply}\r\n                handleEditReply={handleEditReply}\r\n                handleDeleteReply={handleDeleteReply}\r\n                handleEditComment={handleEditComment}\r\n                handleDeleteComment={handleDeleteComment}\r\n                isAscendingSorted={isAscendingSorted}\r\n                openFormId={openFormId}\r\n                setOpenFormId={setOpenFormId}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport { App }\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n    Form,\r\n    Input,\r\n    TextArea,\r\n    Button,\r\n    Legend,\r\n    List,\r\n    StyledInfo,\r\n    Reply,\r\n} from 'components'\r\n\r\nfunction Comment({\r\n    name,\r\n    text,\r\n    id,\r\n    date,\r\n    replies,\r\n    handleAddReply,\r\n    handleEditReply,\r\n    handleDeleteReply,\r\n    handleEditComment,\r\n    handleDeleteComment,\r\n    isAscendingSorted,\r\n    openFormId,\r\n    setOpenFormId,\r\n}) {\r\n    const [showReplyForm, setShowReplyForm] = useState(false)\r\n    const [showEditForm, setShowEditForm] = useState(false)\r\n    const [newComment, setNewComment] = useState(text)\r\n\r\n    // state for \"ADD REPLY\" form\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        reply: '',\r\n        disabled: true,\r\n    })\r\n\r\n    function handleAddReplySubmit(event) {\r\n        event.preventDefault()\r\n        const { name, reply } = formData\r\n\r\n        handleAddReply(id, name, reply)\r\n        setFormData({\r\n            name: '',\r\n            reply: '',\r\n            disabled: true,\r\n        })\r\n        setShowReplyForm(false)\r\n    }\r\n\r\n    function handleEditCommentSubmit(event) {\r\n        event.preventDefault()\r\n        handleEditComment(id, newComment)\r\n        setShowEditForm(false)\r\n    }\r\n\r\n    // change handler for \"ADD REPLY\" form\r\n    function handleChange(event) {\r\n        let { name, value } = event.target\r\n        value = value.trimStart()\r\n\r\n        // this is a deep copy as formData has primitive properties only\r\n        const formDataCopy = { ...formData }\r\n        formDataCopy[name] = value\r\n\r\n        setFormData({\r\n            ...formData,\r\n            [name]: value,\r\n            disabled: !(formDataCopy.name && formDataCopy.reply),\r\n        })\r\n    }\r\n\r\n    function toggleReply() {\r\n        // \"ADD REPLY\" form will be visible now\r\n        if (!showReplyForm) {\r\n            setOpenFormId(0)\r\n        }\r\n        setShowReplyForm(!showReplyForm)\r\n    }\r\n\r\n    // getting the replies to show based on sorting order\r\n    const repliesToShow = isAscendingSorted\r\n        ? replies\r\n        : replies.slice().reverse()\r\n\r\n    return (\r\n        <li>\r\n            {/* rendering comment card / edit comment form */}\r\n            {showEditForm && id === openFormId ? (\r\n                // edit comment form\r\n                <Form onSubmit={handleEditCommentSubmit}>\r\n                    <Legend>Edit Comment</Legend>\r\n                    <Input\r\n                        name=\"name\"\r\n                        placeholder=\"Name\"\r\n                        value={name}\r\n                        readOnly={true}\r\n                    />\r\n                    <TextArea\r\n                        name=\"comment\"\r\n                        placeholder=\"Comment\"\r\n                        value={newComment}\r\n                        onChange={(event) => setNewComment(event.target.value)}\r\n                    />\r\n                    <Button type=\"submit\" disabled={!newComment}>\r\n                        Post\r\n                    </Button>\r\n                </Form>\r\n            ) : (\r\n                // comment card\r\n                <StyledInfo\r\n                    name={name}\r\n                    text={text}\r\n                    commentId={id}\r\n                    date={date}\r\n                    showReplyButton={true}\r\n                    toggleReply={toggleReply}\r\n                    handleEdit={() => {\r\n                        setOpenFormId(id)\r\n                        setShowEditForm(true)\r\n                    }}\r\n                    handleDelete={handleDeleteComment}\r\n                />\r\n            )}\r\n\r\n            {/* showing \"ADD REPLY\" form when user clicks on reply */}\r\n            {showReplyForm && openFormId === 0 && (\r\n                <Form onSubmit={handleAddReplySubmit} indented={true}>\r\n                    <Legend>Add Reply</Legend>\r\n                    <Input\r\n                        name=\"name\"\r\n                        placeholder=\"Name\"\r\n                        value={formData.name}\r\n                        onChange={handleChange}\r\n                    />\r\n                    <TextArea\r\n                        name=\"reply\"\r\n                        placeholder=\"Reply\"\r\n                        value={formData.reply}\r\n                        onChange={handleChange}\r\n                    />\r\n                    <Button type=\"submit\" disabled={formData.disabled}>\r\n                        Post\r\n                    </Button>\r\n                </Form>\r\n            )}\r\n\r\n            {replies.length !== 0 && (\r\n                <List indented={true}>\r\n                    {repliesToShow.map(function mapReply(reply) {\r\n                        return (\r\n                            <Reply\r\n                                key={reply.id}\r\n                                commentId={id}\r\n                                replyId={reply.id}\r\n                                {...reply}\r\n                                handleDeleteReply={handleDeleteReply}\r\n                                handleEditReply={handleEditReply}\r\n                                openFormId={openFormId}\r\n                                setOpenFormId={setOpenFormId}\r\n                            />\r\n                        )\r\n                    })}\r\n                </List>\r\n            )}\r\n        </li>\r\n    )\r\n}\r\n\r\nComment.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    text: PropTypes.string.isRequired,\r\n    id: PropTypes.number.isRequired,\r\n    date: PropTypes.number.isRequired,\r\n    replies: PropTypes.array.isRequired,\r\n    handleAddReply: PropTypes.func.isRequired,\r\n    handleEditReply: PropTypes.func.isRequired,\r\n    handleDeleteReply: PropTypes.func.isRequired,\r\n    handleEditComment: PropTypes.func.isRequired,\r\n    handleDeleteComment: PropTypes.func.isRequired,\r\n    openFormId: PropTypes.number.isRequired,\r\n    setOpenFormId: PropTypes.func.isRequired,\r\n}\r\n\r\nexport { Comment }\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Form, Legend, Input, TextArea, Button, StyledInfo } from 'components'\r\n\r\nfunction Reply({\r\n    id,\r\n    commentId,\r\n    replyId,\r\n    name,\r\n    text,\r\n    date,\r\n    handleDeleteReply,\r\n    handleEditReply,\r\n    openFormId,\r\n    setOpenFormId,\r\n}) {\r\n    const [newReply, setNewReply] = useState(text)\r\n    const [showEditForm, setShowEditForm] = useState(false)\r\n\r\n    // edit reply handler\r\n    function handleEdit(event) {\r\n        event.preventDefault()\r\n        handleEditReply(commentId, replyId, newReply)\r\n        setShowEditForm(false)\r\n    }\r\n\r\n    return showEditForm && id === openFormId ? (\r\n        //\"EDIT REPLY\" form\r\n        <Form onSubmit={handleEdit}>\r\n            <Legend>Edit Reply</Legend>\r\n            <Input\r\n                name=\"name\"\r\n                placeholder=\"Name\"\r\n                value={name}\r\n                readOnly={true}\r\n            />\r\n            <TextArea\r\n                name=\"reply\"\r\n                placeholder=\"Reply\"\r\n                value={newReply}\r\n                onChange={(event) => setNewReply(event.target.value)}\r\n            />\r\n            <Button type=\"submit\" disabled={!newReply}>\r\n                Post\r\n            </Button>\r\n        </Form>\r\n    ) : (\r\n        // \"REPLY\" card\r\n        <StyledInfo\r\n            commentId={commentId}\r\n            replyId={replyId}\r\n            name={name}\r\n            text={text}\r\n            date={date}\r\n            handleDelete={handleDeleteReply}\r\n            handleEdit={() => {\r\n                setShowEditForm(true)\r\n                setOpenFormId(id)\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\nReply.proTypes = {\r\n    id: PropTypes.number.isRequired,\r\n    commentId: PropTypes.number.isRequired,\r\n    replyId: PropTypes.number.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    text: PropTypes.string.isRequired,\r\n    date: PropTypes.number.isRequired,\r\n    handleDeleteReply: PropTypes.func.isRequired,\r\n    openFormId: PropTypes.number.isRequired,\r\n    setOpenFormId: PropTypes.func.isRequired,\r\n}\r\n\r\nexport { Reply }\r\n","import styled from 'styled-components'\r\n\r\nconst Button = styled.button`\r\n    border: none;\r\n    outline: none;\r\n    border-radius: 5px;\r\n    font-family: Rubik, sans-serif;\r\n    padding: 0.6rem 1rem;\r\n    background-color: dodgerblue;\r\n    color: white;\r\n    text-transform: uppercase;\r\n\r\n    &:disabled {\r\n        background-color: #999;\r\n        color: black;\r\n        cursor: none;\r\n    }\r\n`\r\n\r\nexport { Button }\r\n","import { createGlobalStyle } from 'styled-components'\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n    *, *::before,*::after {\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    html, body, #root {\r\n        padding: 0;\r\n        margin: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n\r\n    html {\r\n        font-family: Karla, sans-serif;\r\n    }\r\n\r\n    h1,h2,h3,h4,h5,h6 {\r\n        font-family: Rubik, sans-serif;\r\n    }\r\n\r\n    #root {\r\n        padding: 1rem;\r\n        display: flex;\r\n        flex-flow: column nowrap;\r\n\r\n        max-width: 600px;\r\n        width: 100%;\r\n        margin: 0 auto;\r\n    }\r\n\r\n    @keyframes expand {\r\n        from {\r\n            opacity: 0;\r\n        }\r\n        to {\r\n            opacity: 1;\r\n        }\r\n    }\r\n`\r\n\r\nexport { GlobalStyle }\r\n","import styled from 'styled-components'\r\n\r\nconst Input = styled.input`\r\n    padding: 0.4rem 1rem;\r\n    margin-bottom: 1rem;\r\n    border-radius: 2px;\r\n    border: none;\r\n    outline: none;\r\n\r\n    &:read-only {\r\n        background-color: #d2d2d2;\r\n    }\r\n`\r\n\r\nexport { Input }\r\n","import styled from 'styled-components'\r\n\r\nconst Legend = styled.legend`\r\n    margin-bottom: 1rem;\r\n    font-family: Rubik, sans-serif;\r\n    text-transform: capitalize;\r\n`\r\n\r\nexport { Legend }\r\n","import styled from 'styled-components'\r\n\r\nconst List = styled.ul`\r\n    list-style-type: none;\r\n    padding-left: ${({ indented }) => (indented ? '3rem' : '0')};\r\n`\r\n\r\nexport { List }\r\n","import styled from 'styled-components'\r\n\r\nconst Form = styled.form`\r\n    display: flex;\r\n    flex-flow: column nowrap;\r\n    animation: expand 0.5s ease-in-out;\r\n\r\n    padding: 1rem;\r\n    margin: 1rem 0;\r\n    margin-left: ${({ indented }) => (indented ? '3rem' : '0')};\r\n    background-color: #dedede;\r\n    border-radius: 5px;\r\n\r\n    & button {\r\n        align-self: flex-end;\r\n    }\r\n`\r\n\r\nexport { Form }\r\n","import styled from 'styled-components'\r\n\r\nconst TextArea = styled.textarea`\r\n    padding: 0.4rem 1rem;\r\n    margin-bottom: 1rem;\r\n    border-radius: 2px;\r\n    border: none;\r\n    outline: none;\r\n    resize: vertical;\r\n`\r\n\r\nexport { TextArea }\r\n","import styled from 'styled-components'\r\nimport { Info } from 'components'\r\n\r\nconst StyledInfo = styled((props) => <Info {...props} />)`\r\n    margin-bottom: 1rem;\r\n    padding: 1rem;\r\n    background-color: #dedede;\r\n    border-radius: 5px;\r\n    position: relative;\r\n    animation: expand 0.5s ease-in-out;\r\n\r\n    & > .meta {\r\n        display: flex;\r\n        flex-flow: row nowrap;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n\r\n        & > .name {\r\n            font-weight: bold;\r\n            text-transform: capitalize;\r\n        }\r\n    }\r\n\r\n    & > .buttons {\r\n        button {\r\n            background-color: transparent;\r\n            color: #0471dc;\r\n            font-weight: bold;\r\n            padding: 0;\r\n            margin-right: 1rem;\r\n        }\r\n    }\r\n\r\n    .delete-btn {\r\n        margin: 0;\r\n        padding: 0;\r\n        position: absolute;\r\n        top: 50%;\r\n        right: 0;\r\n        transform: translate(50%, -50%);\r\n        width: 24px;\r\n        height: 24px;\r\n        border-radius: 50%;\r\n        background-color: #333;\r\n        color: 'white';\r\n    }\r\n`\r\n\r\nexport { StyledInfo }\r\n","import styled from 'styled-components'\r\n\r\nconst Banner = styled.p`\r\n    display: flex;\r\n    flex-flow: row nowrap;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n    margin: 0;\r\n\r\n    & > svg {\r\n        margin-left: 0.5rem;\r\n    }\r\n`\r\n\r\nexport { Banner }\r\n","import React, { memo } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Comment, List } from 'components'\r\n\r\nconst CommentList = memo(function CommentList({\r\n    comments,\r\n    handleAddReply,\r\n    handleEditReply,\r\n    handleDeleteReply,\r\n    handleEditComment,\r\n    handleDeleteComment,\r\n    isAscendingSorted,\r\n    openFormId,\r\n    setOpenFormId,\r\n}) {\r\n    return (\r\n        comments.length !== 0 && (\r\n            <List>\r\n                {comments.map(function mapComments(comment) {\r\n                    return (\r\n                        <Comment\r\n                            key={comment.id}\r\n                            {...comment}\r\n                            handleAddReply={handleAddReply}\r\n                            handleEditReply={handleEditReply}\r\n                            handleDeleteReply={handleDeleteReply}\r\n                            handleEditComment={handleEditComment}\r\n                            handleDeleteComment={handleDeleteComment}\r\n                            isAscendingSorted={isAscendingSorted}\r\n                            openFormId={openFormId}\r\n                            setOpenFormId={setOpenFormId}\r\n                        />\r\n                    )\r\n                })}\r\n            </List>\r\n        )\r\n    )\r\n})\r\n\r\nCommentList.propTypes = {\r\n    comments: PropTypes.array.isRequired,\r\n    handleAddReply: PropTypes.func.isRequired,\r\n    handleEditReply: PropTypes.func.isRequired,\r\n    handleDeleteReply: PropTypes.func.isRequired,\r\n    handleEditComment: PropTypes.func.isRequired,\r\n    handleDeleteComment: PropTypes.func.isRequired,\r\n    isAscendingSorted: PropTypes.bool.isRequired,\r\n    openFormId: PropTypes.number.isRequired,\r\n    setOpenFormId: PropTypes.func.isRequired,\r\n}\r\n\r\nexport { CommentList }\r\n","import React, { memo } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { MdDelete } from 'react-icons/md'\r\nimport { Button } from 'components/presentational/styled'\r\nimport { getFormattedDate } from 'utils/lib'\r\n\r\n// comments will just have the commentId while replies will have both commentId and replyId\r\nconst Info = memo(function Info({\r\n    showReplyButton,\r\n    toggleReply,\r\n    handleDelete,\r\n    handleEdit,\r\n    name,\r\n    text,\r\n    date,\r\n    commentId,\r\n    replyId,\r\n    className,\r\n}) {\r\n    return (\r\n        <div className={className}>\r\n            <div className=\"meta\">\r\n                <span className=\"name\">{name}</span>\r\n                <span className=\"date\">{getFormattedDate(date)}</span>\r\n                {}\r\n            </div>\r\n            <p className=\"text\">{text}</p>\r\n\r\n            {/* buttons container */}\r\n            <div className=\"buttons\">\r\n                {showReplyButton && (\r\n                    <Button\r\n                        data-commentid={commentId}\r\n                        data-replyid={replyId}\r\n                        onClick={toggleReply}\r\n                    >\r\n                        Reply\r\n                    </Button>\r\n                )}\r\n                <Button\r\n                    data-commentid={commentId}\r\n                    data-replyid={replyId}\r\n                    onClick={handleEdit}\r\n                >\r\n                    Edit\r\n                </Button>\r\n            </div>\r\n\r\n            {/* trash icon */}\r\n            <Button\r\n                className=\"delete-btn\"\r\n                data-commentid={commentId}\r\n                data-replyid={replyId}\r\n                onClickCapture={handleDelete}\r\n            >\r\n                <MdDelete />\r\n            </Button>\r\n        </div>\r\n    )\r\n})\r\n\r\nInfo.defaultProps = {\r\n    commentId: -1,\r\n    replyId: -1,\r\n}\r\n\r\nInfo.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    text: PropTypes.string.isRequired,\r\n    commentId: PropTypes.number.isRequired,\r\n    replyId: PropTypes.number,\r\n    date: PropTypes.number.isRequired,\r\n    showReplyButton: PropTypes.bool,\r\n    toggleReply: PropTypes.func,\r\n    handleDelete: PropTypes.func.isRequired,\r\n    handleEdit: PropTypes.func.isRequired,\r\n    className: PropTypes.string,\r\n}\r\n\r\nexport { Info }\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { App } from 'components'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}